{"version":3,"sources":["../../src/tests/meetup.spec.js"],"names":["expect","chai","use","chaiHttp","describe","it","done","request","app","post","send","createdOn","location","images","topic","happeningOn","Tags","end","err","res","to","have","status","body","be","an","and","true","a","false","property","get","response","meetup"],"mappings":"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","file":"meetup.spec.js","sourcesContent":["/* eslint-disable no-unused-expressions */\nimport chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport app from '../app';\n\nconst { expect } = chai;\nchai.use(chaiHttp);\n\n// @route GET /api/v1/meetups\n// @desc  Create meetup route\n\ndescribe('User can create a new meetup', () => {\n\tit('should return status 200 with payload of newly created meetup record', (done) => {\n\t\tchai\n\t\t\t.request(app)\n\t\t\t.post('/api/v1/meetups')\n\t\t\t.send({\n\t\t\t\tcreatedOn: 'Monday, 31st December 2018',\n\t\t\t\tlocation: 'Lagos',\n\t\t\t\timages: 'http://localhost:5100/api/v1/image.png',\n\t\t\t\ttopic: 'Kubernetes@a',\n\t\t\t\thappeningOn: 'Monday, 31st December 2018',\n\t\t\t\tTags: 'api, endpoints',\n\t\t\t})\n\t\t\t.end((err, res) => {\n\t\t\t\texpect(res).to.have.status(200);\n\t\t\t\texpect(res.body.status).to.be.an('boolean').and.to.be.true;\n\t\t\t\texpect(res.body).to.be.an('object');\n\t\t\t\tdone();\n\t\t\t});\n\t});\n\n\tit('should return status 400 when fields titles already exist on the collection.', (done) => {\n\t\tchai\n\t\t\t.request(app)\n\t\t\t.post('/api/v1/meetups')\n\t\t\t.send({\n\t\t\t\tcreatedOn: 'Monday, 31st December 2018',\n\t\t\t\tlocation: 'Lagos',\n\t\t\t\timages: 'http://localhost:5100/api/v1/image.png',\n\t\t\t\ttopic: 'Kubernetes Conference @ Tech Zone',\n\t\t\t\thappeningOn: 'Monday, 31st December 2018',\n\t\t\t\tTags: 'api, endpoints',\n\t\t\t})\n\t\t\t.end((err, res) => {\n\t\t\t\texpect(res).to.have.status(400);\n\t\t\t\texpect(res.body.status).to.be.a('boolean').and.to.be.false;\n\t\t\t\texpect(res.body).to.have.property('error').and.to.be.a('string');\n\t\t\t\tdone();\n\t\t\t});\n\t});\n});\n\ndescribe('User can get a SPECIFIC meetup record', () => {\n\tit('should return status 200 with specific meetup record.', (done) => {\n\t\tchai\n\t\t\t.request(app)\n\t\t\t.get('/api/v1/meetups/1')\n\t\t\t.end((err, res) => {\n\t\t\t\texpect(res).to.have.status(200);\n\t\t\t\texpect(res.body.status).to.be.a('boolean').and.to.be.true;\n\t\t\t\texpect(res.body).to.have.property('data').and.to.be.an('object');\n\t\t\t\tdone();\n\t\t\t});\n\t});\n\n\tit('should return status 404 when specific meetup record isn\\'t found.', (done) => {\n\t\tchai\n\t\t\t.request(app)\n\t\t\t.get('/api/v1/meetups/9999999')\n\t\t\t.end((err, res) => {\n\t\t\t\texpect(res).to.have.status(404);\n\t\t\t\texpect(res.body.status).to.be.a('boolean').and.to.be.false;\n\t\t\t\texpect(res.body).to.have.property('error').and.to.be.a('string');\n\t\t\t\tdone();\n\t\t\t});\n\t});\n\n\tit('should return status 400 when invalid parameter is passed.', (done) => {\n\t\tchai\n\t\t\t.request(app)\n\t\t\t.get('/api/v1/meetups/q1jkekfbebjhrejb-1nsdjhjreh')\n\t\t\t.end((err, res) => {\n\t\t\t\texpect(res).to.have.status(400);\n\t\t\t\texpect(res.body.status).to.be.a('boolean').and.to.be.false;\n\t\t\t\texpect(res.body).to.have.property('error').and.to.be.a('string');\n\t\t\t\tdone();\n\t\t\t});\n\t});\n});\n\ndescribe('User can get ALL meetup records', () => {\n\tit('should return status 200 with all meetup records.', (done) => {\n\t\tchai\n\t\t\t.request(app)\n\t\t\t.get('/api/v1/meetups/')\n\t\t\t.end((err, res) => {\n\t\t\t\texpect(res).to.have.status(200);\n\t\t\t\texpect(res.body.status).to.be.a('boolean').and.to.be.true;\n\t\t\t\texpect(res.body).to.have.property('data').and.to.be.an('array');\n\t\t\t\tdone();\n\t\t\t});\n\t});\n});\n\ndescribe('User can RSVP for a meetup', () => {\n\tit('should return status 200 with rsvp record.', (done) => {\n\t\tchai\n\t\t\t.request(app)\n\t\t\t.post('/api/v1/meetups/1/rsvp')\n\t\t\t.send({\n\t\t\t\tresponse: 'yes',\n\t\t\t\tmeetup: 1,\n\t\t\t})\n\t\t\t.end((err, res) => {\n\t\t\t\texpect(res).to.have.status(200);\n\t\t\t\texpect(res.body.status).to.be.a('boolean').and.to.be.true;\n\t\t\t\texpect(res.body).to.have.property('data').and.to.be.an('object');\n\t\t\t\tdone();\n\t\t\t});\n\t});\n\tit('should return status 400 when required field(s) is/are missing.', (done) => {\n\t\tchai\n\t\t\t.request(app)\n\t\t\t.post('/api/v1/meetups/1/rsvp')\n\t\t\t.send({\n\t\t\t\tmeetup: 1,\n\t\t\t})\n\t\t\t.end((err, res) => {\n\t\t\t\texpect(res).to.have.status(400);\n\t\t\t\texpect(res.body.status).to.be.a('boolean').and.to.be.false;\n\t\t\t\texpect(res.body).to.have.property('error').and.to.be.an('string');\n\t\t\t\tdone();\n\t\t\t});\n\t});\n\tit('should return status 400 when meetup to RSVP isn\\'t available.', (done) => {\n\t\tchai\n\t\t\t.request(app)\n\t\t\t.post('/api/v1/meetups/200/rsvp')\n\t\t\t.send({\n\t\t\t\tmeetup: 1,\n\t\t\t})\n\t\t\t.end((err, res) => {\n\t\t\t\texpect(res).to.have.status(400);\n\t\t\t\texpect(res.body.status).to.be.a('boolean').and.to.be.false;\n\t\t\t\texpect(res.body).to.have.property('error').and.to.be.an('string');\n\t\t\t\tdone();\n\t\t\t});\n\t});\n});\n\ndescribe('User can can get all upcoming meetups', () => {\n\tit('should return status 200 all upcoming meetup records.', (done) => {\n\t\tchai\n\t\t\t.request(app)\n\t\t\t.get('/api/v1/meetups/upcoming/asc')\n\t\t\t.end((err, res) => {\n\t\t\t\texpect(res).to.have.status(200);\n\t\t\t\texpect(res.body.status).to.be.a('boolean').and.to.be.true;\n\t\t\t\texpect(res.body).to.have.property('data').and.to.be.an('array');\n\t\t\t\tdone();\n\t\t\t});\n\t});\n});\n"]}